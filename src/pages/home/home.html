
<ion-header >
    <ion-toolbar no-border>
      <ion-grid no-padding fixed>
        <ion-row>
          <ion-col col-2>
            <ion-buttons start>
              <button ion-button icon-only color="royal" menuToggle>
                <ion-icon name="menu"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
          <ion-col col-8>
            <ion-searchbar [(ngModel)]="search"
                     [showCancelButton]="true"
                     (ionInput)="onChange($event)"
                     (ionCancel)="onCancel($event)"
                     animated="true"
                     debounce="1000"
                     color="white">
      </ion-searchbar>
          </ion-col>
          <ion-col col-2>
            <ion-buttons end>
              <div *ngIf="auth.authState | async as user; else showBtn" class="avatar">
                  <ion-avatar item-end>
                      <img src={{user.photoURL}} (click)="profile()">
                    </ion-avatar>
              </div>
            </ion-buttons>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12 [style.display]="display">
            <ion-slides slidesPerView="4" 
                        spaceBetween="10">
              <ion-slide *ngFor="let genre of genres">
                <button ion-button color="white" clear (click)="getByGenre(genre)">{{genre}}</button>                              
              </ion-slide>
            </ion-slides>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
</ion-header>

<ion-content (ionScroll)="scroll($event)">
    <ion-card padding-bottom="10px">
      <ion-card-header>
        <ion-card-title>
          <p>Books in Uzbek</p>    
        </ion-card-title>
      </ion-card-header>
      <ion-slides slidesPerView="4"
                  spaceBetween="5">
        <ion-slide *ngFor="let uz of uzbBooks">
           <div class="avatar-card">
             <ion-avatar>
               <img src={{uz.coverURL}} alt={{uz.name}} (click)="selectProduct(uz)">
             </ion-avatar>
               <p>{{uz.name}}</p>
               <p>{{uz.price}} sum</p>
               <button ion-button icon-only clear (click)="addToCart(uz)">
                  <ion-icon name="cart" color="primary"></ion-icon>
               </button>
            </div>
          </ion-slide>
        </ion-slides>
      </ion-card>    

    <ion-card>
        <ion-card-header>
          <ion-card-title>
            <p>Books in Russian</p>    
          </ion-card-title>
        </ion-card-header>
      <ion-slides slidesPerView="4"
                  spaceBetween="5">
        <ion-slide *ngFor="let rus of rusBooks">
           <div class="avatar-card">
             <ion-avatar>
               <img src={{rus.coverURL}} alt={{rus.name}} >
             </ion-avatar>
             <p>{{rus.name}}</p>
             <p>{{rus.price}} sum</p>
             <button ion-button icon-only clear (click)="addToCart(rus)">
                <ion-icon name="cart" color="primary"></ion-icon>
             </button>
          </div>
        </ion-slide>
      </ion-slides>
    </ion-card>

    <ion-card>
        <ion-card-header>
            <ion-card-title>
              <p>Books in English</p>    
            </ion-card-title>
          </ion-card-header>
      <ion-slides slidesPerView="4"
                  spaceBetween="5">
        <ion-slide *ngFor="let eng of engBooks">
           <div class="avatar-card">
             <ion-avatar>
               <img src={{eng.coverURL}} alt={{eng.name}} >
             </ion-avatar>
             <p>{{eng.name}}</p>
             <p>{{eng.price}} sum</p>
             <button ion-button icon-only clear (click)="addToCart(eng)">
                <ion-icon name="cart" color="primary"></ion-icon>
             </button>
          </div>
        </ion-slide>
      </ion-slides>
    </ion-card>

    <ion-card>
        <ion-card-header>
            <ion-card-title>
              <p>Foreign Books</p>    
            </ion-card-title>
          </ion-card-header>
      <ion-slides slidesPerView="4"
                  spaceBetween="5">
        <ion-slide *ngFor="let foreign of foreignBooks">
           <div class="avatar-card">
             <ion-avatar>
               <img src={{foreign.coverURL}} alt={{foreign.name}} >
             </ion-avatar>
             <p>{{foreign.name}}</p>
             <p>{{foreign.price}} sum</p>
             <button ion-button icon-only clear (click)="addToCart(foreign)">
                <ion-icon name="cart" color="primary"></ion-icon>
             </button>
          </div>
        </ion-slide>
      </ion-slides>
    </ion-card>

  <button ion-button secondary (click)="goto('AddProductPage')">Add Product</button>
    
</ion-content>


<ng-template #showBtn>
    <button ion-button icon-only color="royal" (click)="goto('LoginPage')" clear style="height: 5vh;border-radius: 10px">
        <ion-icon name="log-in"></ion-icon>
      </button>
</ng-template>



<!-- <button ion-item (click)="addToCart(product.name, product.description, product.price)">
    <ion-icon name="cart"></ion-icon>
    {{product.name}}
  </button> -->
